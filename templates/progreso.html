{# templates/progreso.html #}
{% extends "base.html" %}

{% block title %}Progreso del procesamiento{% endblock %}

{% block content %}
<!-- Contenedor principal -->
<section class="container py-5 text-center" data-jid="{{ jid }}">
  <!-- Círculo de progreso (CSS custom) -->
  <div class="progress-ring mx-auto mb-3" id="circle">
    <svg viewBox="0 0 120 120">
      <circle class="bg" cx="60" cy="60" r="54"></circle>
      <circle class="fg" cx="60" cy="60" r="54"></circle>
    </svg>
    <div class="progress-text" id="pct">0%</div>
  </div>

  <!-- Mensaje inferior -->
  <p id="msg" class="lead fw-semibold text-white-50">Inicializando…</p>
</section>
{% endblock %}

{% block styles %}
<style>
  /* Círculo base y foreground */
  .progress-ring { position: relative; width: 120px; height: 120px; }
  .progress-ring svg { transform: rotate(-90deg); width: 100%; height: 100%; }
  .progress-ring circle { fill: none; stroke-width: 12; }
  .progress-ring .bg { stroke: #394956; }      /* gris oscuro */
  .progress-ring .fg { stroke: #3ba2ff;        /* azul */ stroke-dasharray: 339.292; stroke-dashoffset: 339.292; transition: stroke-dashoffset 0.3s ease; }
  .progress-text  { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; font-size: 1.3rem; font-weight: 700; color: #fff; }
  body            { background: #0d1117; }     /* fondo oscuro opcional */
</style>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/progreso.js') }}"></script>
{% endblock %}
