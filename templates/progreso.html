<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"><title>Procesandoâ€¦</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<script src="https://cdn.tailwindcss.com"></script>
<style>
.loader-ring{
  width:120px;height:120px;border-radius:50%;
  border:12px solid #334155;                 /* gris */
  border-top-color:#2563eb;                  /* azul */
  animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
</style>
</head>
<body class="bg-gray-900 text-gray-200 flex flex-col items-center justify-center h-screen">

  <div class="loader-ring"></div>
  <p class="mt-6 text-xl"><span id="pct">0</span>%</p>

<script>
const src=new EventSource("/events/{{ jid }}");
src.onmessage=e=>{
  const pct=+e.data;
  document.getElementById('pct').textContent=pct;
  if(pct>=100){ src.close(); location.href="/resultado/{{ jid }}"; }
};
</script>
</body>
</html>
